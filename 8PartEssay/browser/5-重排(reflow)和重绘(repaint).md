# 重排(reflow)和重绘(repaint)

## 重排(reflow)：
当DOM的变化影响了元素的几何信息(元素的的位置和尺寸大小)，浏览器需要重新计算元素的几何属性，将其安放在界面中的正确位置，这个过程叫做重排。重排也叫回流，简单的说就是重新生成布局，重新排列元素。   

下面情况会发生重排：

* 页面初始渲染，这是开销最大的一次重排
* 添加/删除可见的DOM元素
* 改变元素位置
* 改变元素尺寸，比如边距、填充、边框、宽度和高度等
* 改变元素内容，比如文字数量，图片大小等
* 改变元素字体大小
* 改变浏览器窗口尺寸，比如resize事件发生时
* 激活CSS伪类（例如：:hover）
* 设置 style 属性的值，因为通过设置style属性改变结点样式的话，每一次设置都会触发一次reflow
查询某些属性或调用某些计算方法：offsetWidth、offsetHeight等，除此之外，当我们调用 getComputedStyle方法，或者IE里的 currentStyle 时，也会触发重排，原理是一样的，都为求一个“即时性”和“准确性”。

### 优化：

1. 样式集中改变
2. 分离读写操作
3. 将 DOM 离线
4. 使用 absolute 或 fixed 脱离文档流
5. 优化动画

## 重绘(Repaints):

当一个元素的外观发生改变，但没有改变布局,重新把元素外观绘制出来的过程，叫做重绘。
